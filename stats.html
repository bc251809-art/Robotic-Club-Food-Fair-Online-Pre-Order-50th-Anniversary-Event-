<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Food Fair – Statistics</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body { font-family: system-ui, sans-serif; max-width: 900px; margin:auto; padding:16px; background:#f9f5ef; }
    h1, h2 { text-align:center; }
    .section { background:#fff; padding:16px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.05); margin-bottom:20px; }
    .stat-line { font-size:18px; margin-bottom:8px; }
</style>
</head>
<body>

<h1>Robotic Club Food Fair</h1>
<h2>Website Statistics</h2>

<div class="section">
    <div class="stat-line">Total Orders: <strong id="orders">Loading…</strong></div>
    <div class="stat-line">Total Amount Collected: <strong>RM <span id="amount">0.00</span></strong></div>
    <div class="stat-line">Last Order Timestamp: <strong id="last">Loading…</strong></div>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxu-ol4Os5qrQI3qAi9ykrugjG9qJW9LpIMqd_bwMzYeuK7m8wJFpVKjjtGHsohGGW2/exec";

fetch(API_URL)
    .then(res => res.json())
    .then(data => {
        document.getElementById("orders").textContent = data.totalOrders;
        document.getElementById("amount").textContent = data.totalAmount.toFixed(2);
        document.getElementById("last").textContent = data.lastOrderAt || "-";
    })
    .catch(err => {
        document.getElementById("orders").textContent = "ERROR";
        document.getElementById("amount").textContent = "ERROR";
        document.getElementById("last").textContent = "ERROR";
    });
</script>

</body>
</html>
